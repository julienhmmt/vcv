{{define "dashboard-fragment"}}
<span class="vcv-stat-value" id="dashboard-valid" hx-swap-oob="true">{{.DashboardValid}}</span>
<span class="vcv-stat-value" id="dashboard-warning" hx-swap-oob="true">{{.DashboardWarning}}</span>
<span class="vcv-stat-value" id="dashboard-critical" hx-swap-oob="true">{{.DashboardCritical}}</span>
<span class="vcv-stat-value" id="dashboard-expired" hx-swap-oob="true">{{.DashboardExpired}}</span>
<span class="vcv-stat-value" id="dashboard-revoked" hx-swap-oob="true">{{.DashboardRevoked}}</span>
{{$total := add .DashboardValid .DashboardWarning .DashboardCritical .DashboardExpired .DashboardRevoked}}
<div id="dashboard-chart" class="vcv-dashboard-donut" hx-swap-oob="true"
  style="--chart-valid: {{.DashboardValid}}; --chart-warning: {{.DashboardWarning}}; --chart-critical: {{.DashboardCritical}}; --chart-expired: {{.DashboardExpired}}; --chart-revoked: {{.DashboardRevoked}}; --chart-total: {{$total}};">
  <div class="vcv-donut-wrapper">
    <div class="vcv-donut{{if eq $total 0}} vcv-donut-empty{{end}}"></div>
    <div class="vcv-donut-center">
      <span class="vcv-donut-center-value" id="dashboard-total">{{.DashboardTotal}}</span>
      <span class="vcv-donut-center-label" id="dashboard-donut-label">{{.DashboardCertsLabel}}</span>
    </div>
  </div>
</div>
{{end}}
